<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Loot Deck Helper</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>

    <div class="container">
        <h1>Loot Deck Helper</h1>

        <!-- BUILDER VIEW -->
        <div id="builderView" class="section">
            <h2>Build Loot Pool</h2>

            <div class="controls-row">
                <button class="secondary" id="btnPresetBlank">Clear Counts</button>
                <button class="secondary" id="btnPresetSample">Sample Demo Pool</button>
            </div>

            <div id="templateGrid" class="template-grid">
                <!-- Template Inputs injected here -->
            </div>

            <div class="build-stats">
                Configured Pool Size: <span id="configuredSizeDisplay">0</span>
            </div>

            <div class="centered-controls">
                <button id="btnBuildPool" class="big-button">Build & Start Session</button>
            </div>
        </div>

        <!-- ACTIVE VIEW -->
        <div id="activeView" class="section hidden">
            <h2>Active Session</h2>

            <div id="drawError" class="error-message"></div>

            <div class="draw-controls">
                <!-- Token input removed as per requirements (always draw 1) -->
                <button id="btnDraw" class="big-button">Draw 1 Loot Card</button>
            </div>


            <h2>Draw History</h2>
            <ul id="drawLogList" class="log-list">
                <li class="empty-message">No draws yet.</li>
            </ul>

            <div class="remaining-pool-display">
                Cards Remaining: <strong id="remainingCountDisplay" class="remaining-highlight">0</strong>
            </div>

            <div class="stats-table-container" role="status" aria-live="polite" aria-label="Remaining loot cards">
                <table>
                    <thead>
                        <tr>
                            <th>Card Type</th>
                            <th>Remaining</th>
                        </tr>
                    </thead>
                    <tbody id="statsTableBody">
                        <!-- Rows injected here -->
                    </tbody>
                </table>
            </div>

            <div class="centered-controls-alt">
                <button id="btnResetSession" class="danger">Reset Session</button>
            </div>
        </div>
    </div>

    <!-- DRAMATIC DRAW OVERLAY -->
    <div id="drawOverlay" class="draw-overlay hidden">
        <div class="draw-overlay-content">
            <div class="draw-result-title">Loot Found!</div>
            <img id="drawResultImage" class="draw-result-image" src="" alt="Loot Card">
            <div id="drawResultName" class="draw-result-name"></div>
        </div>
    </div>

    <script src="script.js" defer></script>
</body>

</html>